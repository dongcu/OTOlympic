<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.gym.mappers.profile">

	<!-- 마이페이지(자게) 게시글 총 개수 -->
	<select id="getMyFreeCnt" resultType="_int">
		select count(b_num) from
		f_board where b_writer = #{b_writer}
	</select>

	<!-- 마이페이지(자게) 게시글 목록 -->
	<select id="getMyFreeList"
		resultType="com.gym.domain.FreeBoardVO">
		select *
		from f_board
		where b_writer = #{b_writer}
		order by b_num desc
		limit #{displayPost}, #{postNum}
	</select>

	<!-- 마이페이지(자게) 게시글 조회 -->

	<!-- 마이페이지(자게) 수정용 게시글 조회 -->

	<!-- 마이페이지(자게) 게시글 작성 -->

	<!-- 마이페이지(자게) 게시글 수정 -->

	<!-- 마이페이지(자게) 게시글 삭제 -->
	<delete id="myFreeDelete">
		delete from f_board
		where b_num = #{b_num}
	</delete>

	<!-- 마이페이지(자게) 게시글 일괄 삭제 -->
	<delete id="myFreeDeleteAll">
		delete from f_board
		where b_writer = #{b_writer}
	</delete>

	<!-- 마이페이지(자게) 댓글 총 개수 -->
	<select id="getMyFreeRepCnt" resultType="_int">
		select count(c_num) from
		f_comment where c_writer = #{c_writer}
	</select>
	
	<!-- 마이페이지(자게) 댓글 목록 -->
	<select id="getMyFreeRepList" resultType="com.gym.domain.ReplyVO">
		select *
		from f_board b
		join f_comment c
		on b.b_num = c.b_num
		order by c_date desc
		limit #{displayPost}, #{postNum}
	</select>

	<!-- 마이페이지(자게) 댓글 삭제 -->
	<delete id="myFreeRepDelete">
		delete from f_comment
		where c_num = #{c_num}
	</delete>

	<!-- 마이페이지(자게) 댓글 일괄 삭제 -->
	<delete id="myFreeRepDeleteAll">
		delete from f_comment
		where c_writer = #{c_writer}
	</delete>

</mapper>
