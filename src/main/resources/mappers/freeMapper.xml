<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.gym.mappers.free">

   <!--게시물 총 갯수 -->
   <select id="freeCnt" resultType="int">
      select count(b_num) from f_board
   </select>
   
   <!-- 게시물 목록 보기 -->
   <select id="freeList" resultType="com.gym.domain.FreeBoardVO">
      select 
         b_num, b_title, b_writer, b_date, b_content, view_cnt
      from f_board order by b_num desc limit #{displayPost}, #{postNum}
   </select>
   
   <!-- 게시물 내용보기  -->
   <select id="freeDetail" resultType="com.gym.domain.FreeBoardVO" parameterType="int">
      select
         b_num, b_title, b_writer, b_date, b_content, view_cnt
      from 
         f_board
      where 
         b_num = #{b_num}
   </select>
   
   <!-- 게시물 조회수 -->
   <update id = "freeViewCnt" parameterType = "int">
   		update f_board set view_cnt = view_cnt+1 where b_num = #{b_num}
   </update>
   
   <!-- 게시물 작성 -->
   <insert id="freeWrite">
   		insert into 
   			f_board(b_title, b_writer, b_content)
   				values(#{b_title}, #{b_writer}, #{b_content})
   </insert>
   
   <!--게시물 수정  -->
   <update id="freeModify">
   		update f_board 
   			set
   				b_title = #{b_title},
   				b_writer = #{b_writer},
   				b_content = #{b_content}
   			where b_num = #{b_num}
   </update>
   
   <delete id="freeDelete">
   	delete
   		from f_board
   	where b_num = #{b_num}
   </delete>
   
</mapper>